function Q(a,c,b){if(null==handler||a.bookieName!=handler.bookieName||null==handler.bet)return!1;try{if("ping"==a.action)b({retval:"pong"});else if("reloadPage"==a.action)R.execScript("window.location.reload();",document),b({retval:"ok"});else if("executeScript"==a.action)R.execScript(a.code,document),b({retval:"ok"});else{c=null;var d=!1,e=function(a){b({retval:a})},g=function(a){null!=a.bet&&1==handler.bet.gameReversed&&(a.bet=R.Ta(a.bet)),b({retval:a})};"getBetData"==a.action?(d=!0,c=handler.getBetData(document,g)):"getBetSlipData"==a.action?(d=!0,c=handler.getBetSlipData(document,a.betID,g)):"checkAreWeOnBookiesPage"==a.action?c=handler.checkAreWeOnBookiesPage(document,e):"checkAreWeOnBetPage"==a.action?c=handler.checkAreWeOnBetPage(document,e):"boolIsPageFinishedLoading"==a.action?c=handler.boolIsPageFinishedLoading(document,a.after,e):"navigateLoginPage"==a.action?c=handler.navigateLoginPage(document,e):"navigateBetPage"==a.action?c=handler.navigateBetPage(document,e):"openBetSlip"==a.action?c=handler.openBetSlip(document,e):"checkBetSlipOpened"==a.action?c=handler.checkBetSlipOpened(document,e):"clearBetSlip"==a.action?c=handler.clearBetSlip(document,e):"checkBetSlipCleared"==a.action?c=handler.checkBetSlipCleared(document,e):"addBetSlip"==a.action?c=handler.addBetSlip(document,a.betID,e):"checkBetSlipAdded"==a.action?c=handler.checkBetSlipAdded(document,a.betID,e):"fillLoginForms"==a.action?c=handler.fillLoginForms(document,a.username,R.Tb(a.password),e):"clickLogin"==a.action?c=handler.clickLogin(document,e):"isLoggedIn"==a.action?c=handler.isLoggedIn(document,e):"getMinMaxStake"==a.action?c=handler.getMinMaxStake(document,a.betID,e):"navigateBalancePage"==a.action?c=handler.navigateBalancePage(document,e):"getBalance"==a.action?c=handler.getBalance(document,e):"setAmount"==a.action?c=handler.setAmount(document,a.betID,a.amount,e):"getTotalAmountSet"==a.action?c=handler.getTotalAmountSet(document,e):"checkBet"==a.action?c=handler.checkBet(document,a.betID,e):"checkBetPlaced"==a.action&&(c=handler.checkBetPlaced(document,e)),("string"!=typeof c||"_use_callback"!=c)&&(d&&null!=c.bet&&1==handler.bet.gameReversed&&(c.bet=R.Ta(c.bet)),b({retval:c}))}}catch(f){return b({retval:{error:f.message,Z:f.stack}}),!1}return!0}var R=new function(){this.errorMessages={ERR_BET_NOT_EXISTS:"ERR_BET_NOT_EXISTS",ERR_GAME_NOT_EXISTS:"ERR_GAME_NOT_EXISTS",ERR_BET_SUSPENDED:"ERR_BET_SUSPENDED",ERR_GAME_SUSPENDED:"ERR_GAME_SUSPENDED",ERR_LIVE_MODE:"ERR_LIVE_MODE"},this.Tb=function(a){var c=[],b="";for(z=0;62>=z;z++)c["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".substr(z,1)]="NOPQRSTUVWXYZABCDEFGHIJKLMnopqrstuvwxyzabcdefghijklm5678901234".substr(z,1);for(z=0;z<=a.length;z++)var f=a.charAt(z),b=(b+(f in c?c[f]:f));return b},this.Ud=function(a,c,b){if("dec"==a){var f="dec",h=parseFloat(c);a=F.Da(h);var k=a[0],p=a[1],n=F.pa(h),v=14}else if("frac"==a)f="frac",k=parseFloat(c),p=parseFloat(b),h=F.Ga(k,p),n=F.pa(h),v=13;else if("us"==a)f="us",n=c,h=F.P(n),a=F.Da(h),k=a[0],p=a[1],v=11;else if("perc"==a){var f="perc",A=c,h=F.Ad(A),n=F.pa(h);a=F.Da(h),k=a[0],p=a[1],v=7}return{oddUp:k,oddDown:p,decimalOdd:h,usOdd:n,oddFormat:f,notScraped:v,percOdd:A}},this.Ic=function(a){return(1e3*moment(a).unix()).toString()},this.mc=function(a,c,b){if(!moment.isMoment(a))return null;var f=new moment,h=null;if(b)c=a.toDate().getTimezoneOffset()/60,a.subtract("hours",parseFloat(b)),h=a.subtract("hours",c);else if(c){if(!moment.isMoment(c))return null;b=R.Ub(f.diff(c,"seconds")/60/60),h=a.add("hours",b)}else c=f.toDate().getTimezoneOffset()/60,h=a.subtract("hours",c);return h},this.nc=function(a){return 24<moment().diff(a,"hours")&&a.add("years",1),a},this.Ub=function(a){var c=parseFloat(a);a=c>=0?!1:!0;var c=Math.abs(c),b=c-parseInt(c,10),b=Math.round(100*b),f=0;return 13>b?f=0:b>87?(f=0,c+=1):f=38>b?.25:b>=63?.75:.5,c=parseInt(c,10)+f,a&&(c*=-1),c},this.Vb=function(a){var c=null;return a=a.replace(/\s/g,""),(a=a.match("([0-9\\.]+)-([0-9\\.]+)"))&&(c=6553600*parseFloat(a[2])+100*parseFloat(a[1])),c},this.Eb=function(a){return a=parseFloat(a),parseFloat(65535&a)/100+"-"+parseFloat(a>>16)/100},this.Nc=function(a){return null!=a?a.replace(/\(/,"\\(").replace(/\)/,"\\)").replace(/\./,"\\."):null},this.ae=function(a){if(null!=a){var c=a.replace(/&amp;/g,"&").replace(/&nbsp;/,String.fromCharCode(160));return(matches=a.match(/&#(\d+);/))&&(c=c.replace(/&#(\d+);/g,String.fromCharCode(matches[1]))),c}return null},this.od=function(a){for(var c="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),b=1;b<=c.length;b++)if(0<=a.indexOf(c[b]))return b;return 0},this.Ta=function(a){var c=a.player1;return a.player1=a.player2,a.player2=c,c=this.wa[a.leg],null!=c&&(a.leg=c),c=a.handicap,0<=a.market.indexOf("ES")?(c=R.Eb(a.handicap).split("-"),c=R.Vb(c[1].toString()+"-"+c[0].toString())):(0<=a.market.indexOf("EH")||0<=a.market.indexOf("1X2"))&&"BX"==a.leg&&(c=-1*parseFloat(a.handicap)),a.handicap=c,a},this.wa={B:"B",BU:"BU",BO:"BO",BR:"BR",BOD:"BOD",BEV:"BEV",B1:"B2",B2:"B1",BX:"BX",B1_1:"B2_2",BX_1:"BX_2",B2_1:"B1_2",B1_X:"B2_X",BX_X:"BX_X",B2_X:"B1_X",B1_2:"B2_1",BX_2:"BX_1",B2_2:"B1_1",B12:"B12",B1X:"BX2",BX2:"B1X",BHT:"BHT",BSH:"BSH",BEQ:"BEQ",BQ1:"BQ1",BQ2:"BQ2",BQ3:"BQ3",BQ4:"BQ4",B1HT:"B2HT",B1SH:"B2SH",B1EQ:"B2EQ",B1Q1:"B2Q1",B1Q2:"B2Q2",B1Q3:"B2Q3",B1Q4:"B2Q4",B2HT:"B1HT",B2SH:"B1SH",B2EQ:"B1EQ",B2Q1:"B1Q1",B2Q2:"B1Q2",B2Q3:"B1Q3",B2Q4:"B1Q4",B1O:"B2O",B1R:"B2R",B1U:"B2U",B2O:"B1O",B2U:"B1U",B2R:"B1R",B12O:"B12O",B12U:"B12U",BLW:"BLW",BLX:"BLX",BLL:"BLL",BX0:"BX0",BXO:"BXO",BXU:"BXU"};for(var a in this.wa){var c=a.replace("B","L"),b=this.wa[a].replace("B","L");this.wa[c]=b}this.execScript=function(a,c){try{var b=c.createElement("script");b.textContent=a,(c.head||c.documentElement).appendChild(b),b.parentNode.removeChild(b)}catch(f){}},this.Xc=function(a,c){var b=a.cookie,f=b.indexOf(" "+c+"=");if(-1==f&&(f=b.indexOf(c+"=")),-1==f)b=null;else{var f=b.indexOf("=",f)+1,h=b.indexOf(";",f);-1==h&&(h=b.length),b=unescape(b.substring(f,h))}return b},this.Rd=function(a,c,b,f,h,k,p){var n=new Date;n.setTime(n.getTime()),f&&(f*=864e5),n=new Date(n.getTime()+f),a.cookie=c+"="+escape(b)+(f?";expires="+n.toGMTString():"")+(h?";path="+h:"")+(k?";domain="+k:"")+(p?";secure":"")},this.Jd=function(a){var c={"ä":"a","ö":"o","ü":"u","Ä":"A","Ö":"O","Ü":"U"};return a.replace(/[\u00f6\u00e4\u00fc\u00d6\u00c4\u00dc]/g,function(a){return c[a]})}};null==window.gd&&(window.gd=!0,H.addListener(Q,"bookiescript")),window.bfMisc=R,window.D2=Q,window.D20=R.mc,window.D21_=R.nc,window.D22_=R.Ic,window.D23_=R.Nc,window.D24_=R.execScript,window.D25_=R.Eb,window.D26_=R.od,window.D27_=R.Ta.bind(R),window.D28_=R.Tb,window.D29_=R.Ub,window.D30_=R.Vb,window.D31_=R.Ud,window.D32_=R.ae,window.D33_=R.Xc,window.D34_=R.Rd,window.D35_=R.Jd,window.D36_=R.errorMessages;