if(runtimeOrExtension=chrome.runtime&&chrome.runtime.sendMessage?"runtime":"extension","undefined"==typeof H){var H=new function(){this.qc="chrome",this.id=""+(new Date).getTime(),this.p={},this.U=0,this.listeners=[],this.port=chrome[runtimeOrExtension].connect({name:"betfinder"}),this.port.onDisconnect.addListener(function(){self.postMessage({type:"messageToArbvestor",message:{action:"reloadPage"}},self.location.origin)}),this.port.onMessage.addListener(function(a){if(null!==a&&null!==a._respId&&null!==a._respOrig&&null!==a._portName&&null!==a._respIsResp)if(a._respIsResp){if(!this.p[a._respId])throw Error("Callback not exists");var c=this.p[a._respId];delete this.p[a._respId],c(a._respOrig)}else for(var c=function(c){var d={};d._respOrig=JSON.parse(JSON.stringify(c)),d._respIsResp=!0,d._respId=a._respId,d._portName=a._portName,this.port.postMessage(d)}.bind(this),b=0;b<this.listeners.length;b++){var d=this.listeners[b];d.Cd===a._portName&&d.xb(a._respOrig,this.port,c)}}.bind(this)),this.sendMessage=function(a,c,b){this.U++;var d=this.id+"_"+this.U;b&&(this.p[d]=b),b={},b._portName=c,b._respId=d,b._respIsResp=!1,b._respOrig=a,this.port.postMessage(b)},this.w=function(a,c){this.sendMessage(a,"sidebar",c)},this.addListener=function(a,c){this.listeners.push({xb:a,Cd:c})},this.removeListener=function(a){for(var c=0;c<this.listeners.length;c++)this.listeners[c].xb===a&&listeners.splice(c,1)},this.Pd=function(){var a=!1;"boolean"==typeof handlerScriptIsLoaded&&(a=handlerScriptIsLoaded),this.sendMessage({action:"injectCheck",loaded:a},"compatibility")},this.getURL=function(a){return a=a.replace("resource://betfinder/",resourceURL+"resources/")},this.cd=function(){try{if(handler&&handler.bookieName)for(var a=J.q.contentDocument.querySelectorAll("[id*='BetBox_"+handler.bookieName+"']"),c=0;c<a.length;c++)a[c].className+=" betFinderBetActive"}catch(b){}},this.Sd=function(){H.sendMessage({action:"getLanguage",translate:"sidebar_showHome"},"compatibility",function(a){if(a){var c=J.q.contentDocument.querySelector("[id*='betFinderShowHome']");null!==c&&(c.setAttribute("action","showHome"),c.innerHTML=a,c.style.visibility="visible")}})}};null==document.fd&&(document.fd=!0,window.addEventListener("beforeunload",function(){H.sendMessage({action:"pageReloaded"},"compatibility")},!1)),window.sIc=H.Pd.bind(H),setTimeout(function(){sIc()}.bind(this),200);var K=new function(){this.Hc=function(a,c){var b=document,d=b.createElement("div");d.id="betFinderPreLoad",d.style.backgroundColor="black",d.style.position="fixed",d.style.top="0px",d.style.left="0px",d.style.margin="0px",d.style.zIndex=1e7,d.style.display="block",d.style.visibility="visible",d.style.overflow="hidden",d.style.width=a,d.style.height="100%",document.documentElement.appendChild(d),c&&(b=b.createElement("img"),b.id="preLoadImg",b.src=c,d.style.backgroundColor="black",b.style.position="fixed",b.style.top="0px",b.style.left="0px",b.style.margin="0px",b.style.display="block",b.style.visibility="visible",b.style.overflow="hidden",d.appendChild(b))}};document.URL&&H.w({action:"isSidebarSite",url:document.URL},function(a){if(1==a){try{if(0==window.locationbar.visible)return}catch(c){}null==window.opener&&H.w({action:"isSideBarVisible"},function(a){if(a.visible){var c=a.width;H.w({action:"preLoadImage"},function(a){K.Hc(c,a.image)})}})}})}